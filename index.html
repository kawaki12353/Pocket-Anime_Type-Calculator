<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pocket Anime - Type Calculator</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: #f2f4f7;
  padding: 20px;
}

/* HEADER FIXO */
.header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: #f2f4f7;
  z-index: 1000;
  padding: 10px 20px 15px;
}

/* LOGO */
.logo {
  width: 220px;
  max-width: 60vw;
}

/* T√çTULO */
h1 {
  text-align: center;
  margin: 15px 0 0;
  font-size: 24px;
}

/* ESPA√áO PARA CONTE√öDO N√ÉO FICAR SOB HEADER */
.content {
  margin-top: 160px;
}

/* SELECTS */
.selectors {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin-bottom: 30px;
}

select {
  padding: 10px;
  font-size: 16px;
  border-radius: 8px;
}

/* SE√á√ïES */
.section {
  background: #fff;
  border-radius: 12px;
  padding: 15px;
  margin-bottom: 20px;
}

.section h2 {
  font-size: 18px;
  margin-bottom: 10px;
}

/* GRID */
.badges {
  display: grid;
  grid-template-columns: repeat(auto-fill, 120px);
  gap: 10px;
  justify-content: center;
}

/* BADGE */
.badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  padding: 10px;
  border-radius: 8px;
  color: #fff;
  font-weight: bold;
  font-size: 13px;
  text-align: center;
}

.badge img {
  width: 36px;
  height: 36px;
}

/* CORES */
.x4   { background: #b71c1c; }
.x2   { background: #d32f2f; }
.x1   { background: #9e9e9e; }
.x05  { background: #388e3c; }
.x025 { background: #1b5e20; }
.x0   { background: #6a1b9a; }

/* MADE BY */
.madeby {
  position: fixed;
  bottom: 10px;
  right: 15px;
  font-size: 13px;
  color: #555;
}

/* BOT√ÉO DE IDIOMA */
.lang-toggle {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
}

.lang-toggle button {
  padding: 8px 14px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  font-size: 15px;
}
</style>
</head>

<body>

<!-- HEADER FIXO -->
<div class="header">
  <img src="assets/Pocket-Anime-logo.png" alt="Pocket Anime" class="logo">
  <h1 id="title"></h1>
</div>

<!-- CONTE√öDO -->
<div class="content">
  <div class="selectors">
    <select id="primary"></select>
    <select id="secondary"></select>
  </div>

  <div id="results"></div>
</div>

<div class="lang-toggle">
  <button id="langBtn"></button>
</div>

<div class="madeby">Made by Kawaki</div>

<script>
const elements = [
  'Neutral','Fighting','Fire','Water','Nature','Earth','Wind','Ice',
  'Lightning','Soul','Psychic','Poison','Light','Dark','Demon','Beast'
];

const icons = {
  Neutral:'neutral_element.png', Fire:'fire_element.png', Water:'water_element.png',
  Nature:'nature_element.png', Earth:'earth_element.png', Wind:'wind_element.png',
  Ice:'ice_element.png', Lightning:'lightning_element.png', Soul:'soul_element.png',
  Psychic:'psychic_element.png', Demon:'demon_element.png', Poison:'poison_element.png',
  Fighting:'fighting_element.png', Light:'light_element.png', Dark:'dark_element.png',
  Beast:'beast_element.png'
};

const chart = {
  Neutral: { Earth: 0.5, Soul: 0 },

  Fighting: {
    Ice: 2, Earth: 2, Neutral: 2,
    Psychic: 0.5, Wind: 0.5, Beast: 0.5, Light: 0.5,
    Soul: 0
  },

  Fire: {
    Nature: 2, Ice: 2, Beast: 2,
    Water: 0.5, Fire: 0.5, Wind: 0.5, Earth: 0.5
  },

  Water: {
    Fire: 2, Earth: 2,
    Nature: 0.5, Lightning: 0.5, Water: 0.5
  },

  Nature: {
    Water: 2, Earth: 2, Lightning: 2,
    Fire: 0.5, Nature: 0.5, Soul: 0.5, Demon: 0.5
  },

  Earth: {
    Fire: 2, Lightning: 2, Wind: 2, Poison: 2,
    Nature: 0.5, Water: 0.5, Fighting: 0.5
  },

  Wind: {
    Fire: 2, Fighting: 2,
    Earth: 0.5, Ice: 0.5, Lightning: 0.5
  },

  Ice: {
    Nature: 2, Wind: 2,
    Fire: 0.5, Ice: 0.5
  },

  Lightning: {
    Water: 2, Wind: 2, Beast: 2,
    Earth: 0.5, Nature: 0.5, Lightning: 0.5
  },

  Soul: {
    Psychic: 2, Soul: 2, Fighting: 2,
    Dark: 0.5, Demon: 0.5,
    Neutral: 0
  },

  Psychic: {
    Fighting: 2, Poison: 2,
    Dark: 0.5, Psychic: 0.5, Beast: 0.5
  },

  Poison: {
    Nature: 2, Light: 2,
    Earth: 0.5, Soul: 0.5, Poison: 0.5, Beast: 0.5
  },

  Light: {
    Dark: 2, Demon: 2, Fighting: 2,
    Soul: 0.5, Light: 0.5
  },

  Dark: {
    Light: 2, Soul: 2, Psychic: 2,
    Demon: 0.5, Poison: 0.5, Fighting: 0.5, Dark: 0.5
  },

  Demon: {
    Soul: 2, Demon: 2,
    Psychic: 0.5, Light: 0.5
  },

  Beast: {
    Psychic: 2, Poison: 2, Dark: 2,
    Fighting: 0.5, Wind: 0.5, Fire: 0.5
  }
};

const texts = {
  pt:{
    title:'Calculadora de Fraquezas e Resist√™ncias',
    primary:'Prim√°rio',
    secondary:'Secund√°rio',
    btn:'üáßüá∑ BR',
    groups:{
      x4:'Fraqueza Extrema (x4)',
      x2:'Fraqueza (x2)',
      x1:'Dano Normal (x1)',
      x05:'Resist√™ncia (x0.5)',
      x025:'Super Resist√™ncia (x0.25)',
      x0:'Imune (x0)'
    }
  },
  en:{
    title:'Weakness & Resistance Calculator',
    primary:'Primary',
    secondary:'Secondary',
    btn:'üá∫üá≤ USA',
    groups:{
      x4:'Extreme Weakness (x4)',
      x2:'Weakness (x2)',
      x1:'Normal Damage (x1)',
      x05:'Resistance (x0.5)',
      x025:'Strong Resistance (x0.25)',
      x0:'Immune (x0)'
    }
  }
};

let lang='pt';
let lastDamage=null;

const primary=document.getElementById('primary');
const secondary=document.getElementById('secondary');
const results=document.getElementById('results');
const title=document.getElementById('title');
const langBtn=document.getElementById('langBtn');

function populate(){
  primary.innerHTML=`<option value="">${texts[lang].primary}</option>`;
  secondary.innerHTML=`<option value="">${texts[lang].secondary}</option>`;
  elements.forEach(e=>{
    primary.innerHTML+=`<option value="${e}">${e}</option>`;
    secondary.innerHTML+=`<option value="${e}">${e}</option>`;
  });
}

function calculate(){
  const p=primary.value,s=secondary.value;
  if(!p&&!s)return;
  const damage={};
  elements.forEach(atk=>{
    let m=1;
    if(p&&chart[atk]?.[p]!=undefined)m*=chart[atk][p];
    if(s&&chart[atk]?.[s]!=undefined&&p!==s)m*=chart[atk][s];
    damage[atk]=m;
  });
  lastDamage=damage;
  render(damage);
}

function render(damage){
  results.innerHTML='';
  const map={x4:[],x2:[],x1:[],x05:[],x025:[],x0:[]};
  for(const e in damage){
    const v=damage[e];
    if(v===0)map.x0.push(e);
    else if(v===0.25)map.x025.push(e);
    else if(v===0.5)map.x05.push(e);
    else if(v===2)map.x2.push(e);
    else if(v===4)map.x4.push(e);
    else map.x1.push(e);
  }
  for(const k in map){
    if(!map[k].length)continue;
    const sec=document.createElement('div');
    sec.className='section';
    sec.innerHTML=`<h2>${texts[lang].groups[k]}</h2>`;
    const box=document.createElement('div');
    box.className='badges';
    map[k].forEach(e=>{
      box.innerHTML+=`
      <div class="badge ${k}">
        <img src="assets/${icons[e]}">
        <span>${e}</span>
      </div>`;
    });
    sec.appendChild(box);
    results.appendChild(sec);
  }
}

function updateLang(){
  title.textContent=texts[lang].title;
  langBtn.textContent=texts[lang].btn;
  populate();
  if(lastDamage)render(lastDamage);
}

langBtn.onclick=()=>{
  lang=lang==='pt'?'en':'pt';
  updateLang();
};

primary.onchange=calculate;
secondary.onchange=calculate;
updateLang();
</script>

</body>
</html>
