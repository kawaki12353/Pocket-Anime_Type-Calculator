<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pocket Anime - Items</title>

<style>
body{
  font-family:Arial,sans-serif;
  background:#f2f4f7;
  padding:20px;
  margin:0;
}

/* HEADER */
.header{
  position:relative;
  text-align:center;
  margin-bottom:30px;
}
.home-btn{
  position:absolute;
  top:0;
  left:0;
  background:#fff;
  border:1px solid #ccc;
  border-radius:10px;
  padding:8px 14px;
  font-weight:bold;
  text-decoration:none;
  color:#000;
}
.logo{width:220px;max-width:60vw}
.page-title{margin-top:15px;font-size:24px}

/* MOBILE */
@media (max-width:768px){
  .header{text-align:left;padding-top:10px}
  .logo{position:absolute;top:0;right:0;width:160px}
  .page-title{text-align:center;margin-top:70px}
}

/* FILTERS */
.filters{
  display:flex;
  gap:12px;
  justify-content:center;
  flex-wrap:wrap;
  margin-bottom:25px;
}
.filters input,.filters select{
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #444;
  font-size:14px;
  font-weight:bold;
  color:#fff;
}

/* CATEGORY FILTER */
.category-filter{
  background:#2b2b2b;
}

/* RARITY COLORS */
.rarity-default{background:#2b2b2b}
.rarity-comum{background:#616161}
.rarity-incomum{background:#2e7d32}
.rarity-raro{background:#0d47a1}
.rarity-epico{background:#6a1b9a}
.rarity-lendario{background:#f9a825}

/* ITEM LIST */
.item-list{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(230px,1fr));
  gap:15px;
}
.item{
  background:#fff;
  border-radius:12px;
  padding:12px;
  display:flex;
  align-items:center;
  gap:10px;
  cursor:pointer;
  border:3px solid transparent;
  transition:.15s;
}
.item:hover{
  transform:translateY(-4px);
  box-shadow:0 6px 15px rgba(0,0,0,.15);
}
.item img{width:48px;height:48px}

.comum{border-color:#9e9e9e}
.incomum{border-color:#2e7d32}
.raro{border-color:#0d47a1}
.epico{border-color:#6a1b9a}
.lendario{border-color:#f9a825}

/* MODAL */
.modal-bg{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:30;
}
.modal{
  background:#2b2b2b;
  color:#fff;
  width:90%;
  max-width:460px;
  border-radius:14px;
  padding:18px;
  border:4px solid;
}
.modal.comum{border-color:#9e9e9e}
.modal.incomum{border-color:#2e7d32}
.modal.raro{border-color:#0d47a1}
.modal.epico{border-color:#6a1b9a}
.modal.lendario{border-color:#f9a825}

.close{text-align:right}
.close button{
  background:#d32f2f;
  color:#fff;
  border:none;
  border-radius:6px;
  padding:6px 12px;
  cursor:pointer;
}

.modal h2{
  text-align:center;
  margin-bottom:15px;
}

.section{
  margin-bottom:12px;
}
.section-title{
  font-weight:bold;
  color:#ccc;
  margin-bottom:4px;
  position:relative;
}
.section-title::after{
  content:"â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”";
  display:block;
  color:#555;
  font-size:12px;
}

/* LANG */
.lang-toggle{
  position:fixed;
  bottom:10px;
  left:50%;
  transform:translateX(-50%);
}
.lang-toggle button{
  padding:8px 14px;
  border-radius:20px;
  border:none;
  cursor:pointer;
  font-weight:bold;
}

/* MADE BY */
.madeby{
  position:fixed;
  bottom:10px;
  right:15px;
  font-size:13px;
  color:#555;
}

/* CUSTOM SELECT */
.custom-select{
  position:relative;
  width:180px;
}

.select-btn{
  background:#1f1f1f;
  color:#fff;
  padding:12px;
  border-radius:12px;
  cursor:pointer;
  font-weight:bold;
  border:1px solid #444;
}

.select-list{
  display:none;
  position:absolute;
  top:110%;
  left:0;
  width:100%;
  background:#1c1c1c;
  border-radius:12px;
  list-style:none;
  padding:6px;
  z-index:20;
}

.select-list li{
  padding:10px;
  border-radius:8px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:8px;
  color:#fff;
}

.select-list li:hover{
  background:#333;
}

/* RARITY COLORS */
.r-comum{background:#616161}
.r-incomum{background:#2e7d32}
.r-raro{background:#0d47a1}
.r-epico{background:#6a1b9a}
.r-lendario{background:#f9a825}

/* TEMA CLARO */
body.light {
  background:#f2f4f7;
  color:#000;
}

body.light .item {
  background:#fff;
  color:#000;
}

body.light .home-btn {
  background:#fff;
  color:#000;
}

/* TEMA ESCURO */
body.dark {
  background:#121212;
  color:#fff;
}

body.dark .item {
  background:#1e1e1e;
  color:#fff;
}

body.dark .home-btn {
  background:#1f1f1f;
  color:#fff;
  border-color:#444;
}

body.dark .madeby {
  color:#aaa;
}

body.dark .select-btn {
  background:#1f1f1f;
  color:#fff;
}

body.dark .select-list {
  background:#1c1c1c;
}

body.dark .filters input {
  background:#1f1f1f;
  color:#fff;
  border-color:#444;
}

/* BOTÃƒO DE IDIOMA */

/* Modo claro */
body.light .lang-toggle button{
  background:#444;
  color:#fff;
}

/* Modo escuro */
body.dark .lang-toggle button{
  background:#fff;
  color:#000;
}

</style>
</head>

<body>

<div class="header">
  <a href="index.html" class="home-btn">Home</a>
  <img src="assets/Pocket-Anime-logo.png" class="logo">
  <h1 id="title" class="page-title"></h1>
</div>

<div class="filters">
  <input id="searchInput" type="text">
<div class="custom-select" id="categorySelect">
  <div class="select-btn" id="categoryBtn">Categoria</div>
  <ul class="select-list" id="categoryList"></ul>
</div>

<div class="custom-select" id="raritySelect">
  <div class="select-btn" id="rarityBtn">Raridade</div>
  <ul class="select-list" id="rarityList"></ul>
 </div>
</div>

<div class="item-list" id="itemList"></div>

<div class="modal-bg" id="modalBg" onclick="closeModal()">
  <div class="modal" id="modal" onclick="event.stopPropagation()">
    <div class="close">
      <button onclick="closeModal()" id="closeBtn"></button>
    </div>
    <h2 id="mName"></h2>

    <div class="section">
  <div class="section-title" id="lblDesc"></div>
  <div id="mDesc"></div>
</div>

   <div class="section" id="noteSection" style="display:none;">
  <div class="section-title" id="lblNote"></div>
  <div id="mNote"></div>
</div>

   <div class="section">
  <div class="section-title" id="lblDrop"></div>
  <div id="mDrop"></div>
</div>

   <div class="section">
  <div class="section-title" id="lblCat"></div>
  <div id="mCat"></div>
</div>
  </div>
</div>

<div class="lang-toggle">
  <button id="langBtn"></button>
</div>

<div class="madeby">Made by Kawaki1963</div>

<script>
const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");

function applyTheme() {
  document.body.classList.remove("light", "dark");
  document.body.classList.add(prefersDark.matches ? "dark" : "light");
}

applyTheme();

prefersDark.addEventListener("change", applyTheme);

let lang=localStorage.getItem("siteLang")||"pt";
const rarityOrder={comum:1,incomum:2,raro:3,epico:4,lendario:5};

const uiText={
 pt:{
  title:"Lista de Itens",
  search:"Pesquisar item...",
  allCat:"Todas as categorias",
  allRare:"Todas raridades",
  cats:[
   "Item de EvoluÃ§Ã£o","Item de Batalha","Item Chave",
   "Item de Status","Item MÃ©dico","Item Diverso","Item de Captura","Scroll de Habilidade"
  ],
  rares:["Comum","Incomum","Raro","Ã‰pico","LendÃ¡rio"],
  close:"Fechar",
  desc:"DescriÃ§Ã£o",
  note:"Nota",
  drop:"Onde Obter",
  cat:"Categoria",
  btn:"ðŸ‡§ðŸ‡· BR"
 },
 en:{
  title:"Item List",
  search:"Search item...",
  allCat:"All categories",
  allRare:"All rarities",
  cats:[
   "Evolution Item","Battle Item","Key Item",
   "Status Item","Medical Item","Miscellaneous Item","Capture Item","Skill Scroll" 
  ],
  rares:["Common","Uncommon","Rare","Epic","Legendary"],
  close:"Close",
  desc:"Description",
  note:"Note",
  drop:"How to obtain",
  cat:"Category",
  btn:"ðŸ‡ºðŸ‡¸ USA"
 }
};

const categoryKeys = [
  "evolution","battle","key","status","medical","misc","capture","scroll"
];

const categoryLabels = {
  pt: {
    evolution:"Item de EvoluÃ§Ã£o",
    battle:"Item de Batalha",
    key:"Item Chave",
    status:"Item de Status",
    medical:"Item MÃ©dico",
    misc:"Item Diverso",
    capture:"Item de Captura",
    scroll:"Scroll de Habilidade"
  },
  en: {
    evolution:"Evolution Item",
    battle:"Battle Item",
    key:"Key Item",
    status:"Status Item",
    medical:"Medical Item",
    misc:"Miscellaneous Item",
    capture:"Capture Item",
    scroll:"Skill Scroll"
  }
};

const rarityLabels = {
  pt: {
    comum: "Comum",
    incomum: "Incomum",
    raro: "Raro",
    epico: "Ã‰pico",
    lendario: "LendÃ¡rio"
  },
  en: {
    comum: "Common",
    incomum: "Uncommon",
    raro: "Rare",
    epico: "Epic",
    lendario: "Legendary"
  }
};

const items=[
{rarity:"incomum",
 pt:{name:"Bandit Cutlass",desc:"A Bandit Cutlass! Aumenta o atributo de ATAQUE do Animon que estiver equipado durante a batalha!",drop:"Derrotando o Animon Bandit.",cat:"battle"},
 en:{name:"Bandit Cutlass",desc:"The Bandit Cutlass! Increases the ATK stat of the Animon equipping it during battle!",drop:"Defeating the Bandit Animon.",cat:"battle"},
 icon:"bandit_cutlass.png"
},
{rarity:"comum",
 pt:{name:"GX-Accuracy",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente a precisÃ£o dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Accuracy",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons accuracy.",drop:"Shops",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"Capsule",desc:"Uma das tecnologias de cÃ¡psula mais populares, esta cÃ¡psula concede a habilidade de capturar Animons selvagens!",note:"x1 a Chance de Captura.",drop:"Lojas",cat:"capture"},
 en:{name:"Capsule",desc:"One of the most popular Capsule Tech, this capsule grants the ability to capture wild Animons!",note:"x1 Capture Chance.",drop:"Shops",cat:"capture"}
},
{rarity:"incomum",
 pt:{name:"Advance Capsule",desc:"Uma das tecnologias de cÃ¡psula mais populares, esta cÃ¡psula concede a habilidade de capturar Animons selvagens!",note:"x1 a Chance de Captura.",drop:"Lojas",cat:"capture"},
 en:{name:"Advance Capsule",desc:"One of the most popular Capsule Tech, this capsule grants the ability to capture wild Animons!",note:"x1 Capture Chance.",drop:"Shops",cat:"capture"}
},
{rarity:"lendario",
 pt:{name:"Z-Capsule",desc:"Uma das tecnologias de cÃ¡psula mais populares, esta cÃ¡psula concede a habilidade de capturar Animons selvagens!",note:"x2 a Chance de Captura.",drop:"Limitado a fase 2 de Testes.",cat:"capture"},
 en:{name:"Z-Capsule",desc:"One of the most popular Capsule Tech, this capsule grants the ability to catch wild Animons!",note:"x2 Capture Chance.",drop:"Limited to Phase 2 Testing.",cat:"capture"}
},
{rarity:"incomum",
 pt:{name:"Aqua Gem",desc:"Uma joia azul e transparente que abriga em seu interior um pequeno vÃ³rtice giratÃ³rio de Ã¡gua pura.",drop:"Derrotando Animons do tipo Water.",cat:"evolution"},
 en:{name:"Aqua Gem",desc:"A clear, blue gem that holds within it a miniature, swirling vortex of pure water.",drop:"Defeating Water-type Animons.",cat:"evolution"},
 icon:"aqua_gem.png"
},
{rarity:"raro",
 pt:{name:"Battle Claw",desc:"Uma garra poderosa, afiada e resistente, simbolizando forÃ§a bruta e proeza em combate.",drop:"Derrotando Animons do tipo Fighting.",cat:"evolution"},
 en:{name:"Battle Claw",desc:"A powerful claw, sharp and tough, symbolizing raw strength and combat prowess.",drop:"Defeating Fighting-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Breeze Feather",desc:"Uma pena leve e delicada que balanÃ§a com a mais suave das brisas.",drop:"Derrotando Animons do tipo Wind.",cat:"evolution"},
 en:{name:"Breeze Feather",desc:"A light and delicate feather that sways with the gentlest breeze.",drop:"Defeating Wind-type Animons.",cat:"evolution"},
 icon:"breeze_feather.png"
},
{rarity:"raro",
 pt:{name:"Demon Essence",desc:"Fornecida por demÃ´nios poderosos.",drop:"Derrotando Animons do tipo Demon.",cat:"evolution"},
 en:{name:"Demon Essence",desc:"Provided by strong demons.",drop:"Defeating Demon-type Animons.",cat:"evolution"}
},
{rarity:"epico",
 pt:{name:"Divination Cushion",desc:"Uma almofada roxa e macia adornada com alfinetes encantados, usada por videntes em seus rituais mais poderosos.",drop:"Derrotando Animons do tipo Psychic.",cat:"evolution"},
 en:{name:"Divination Cushion",desc:"A plush, purple cushion adorned with enchanted pins, used by seers for their most potent rituals.",drop:"Defeating Psychic-type Animons.",cat:"evolution"}
},
{rarity:"raro",
 pt:{name:"Enchanted Fabric",desc:"Rolos de tecido mÃ­tico, tecidos com fios que pulsam com poder mental.",drop:"Derrotando Animons do tipo Psychic.",cat:"evolution"},
 en:{name:"Enchanted Fabric",desc:"Rolls of mythical fabric, woven with threads that pulsate with mental power.",drop:"Defeating Psychic-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Fiend Claw",desc:"Uma garra afiada e ameaÃ§adora de um demÃ´nio menor, infundida com poder sombrio.",drop:"Derrotando Animons do tipo Demon.",cat:"evolution"},
 en:{name:"Fiend Claw",desc:"A sharp, menacing claw from a lesser demon, infused with dark power.",drop:"Defeating Demon-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Frost Shard",desc:"Um fragmento de gelo elegante e afiado, imbuÃ­do com a essÃªncia do frio.",drop:"Derrotando Animons do tipo Ice.",cat:"evolution"},
 en:{name:"Frost Shard",desc:"A sleek, icy shard with a sharp edge, imbued with the essence of cold.",drop:"Defeating Ice-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Ignite Gem",desc:"Uma joia luminosa que abriga em seu interior um inferno vibrante e turbulento.",drop:"Derrotando Animons do tipo Fire.",cat:"evolution"},
 en:{name:"Ignite Gem",desc:"A luminous gem that houses a vibrant, swirling inferno within.",drop:"Defeating Fire-type Animons.",cat:"evolution"},
 icon:"ignite_gem.png"
},
{rarity:"epico",
 pt:{name:"King's Pincer",desc:"Uma pinÃ§a enorme e irregular do lendÃ¡rio Rei Caranguejo, imbuÃ­da com poder e resistÃªncia incomparÃ¡veis.",drop:"Derrotando Animons do tipo Fighting.",cat:"evolution"},
 en:{name:"King's Pincer",desc:"An enormous, jagged pincer from the legendary Crab King, imbued with unmatched power and resilience.",drop:"Defeating Fighting-type Animons.",cat:"evolution"}
},
{rarity:"raro",
 pt:{name:"Lush Foliage",desc:"Um vibrante conjunto de folhas verdes densas, irradiando energia natural.",drop:"Derrotando Animons do tipo Nature.",cat:"evolution"},
 en:{name:"Lush Foliage",desc:"A vibrant bundle of dense, green leaves, radiating with natural energy.",drop:"Defeating Nature-type Animons.",cat:"evolution"},
 icon:"lush_foliage.png"
},
{rarity:"epico",
 pt:{name:"Magma Crystal",desc:"Um fragmento enigmÃ¡tico moldado por forÃ§as vulcÃ¢nicas, brilhando com nÃºcleos derretidos e manchas flamejantes.",drop:"Derrotando Animons do tipo Fire. Derrotando o Animon Dinossaur.",cat:"evolution"},
 en:{name:"Magma Crystal",desc:"An enigma shard shaped by volcanic forces, glowing with molten cores and fiery blotches.",drop:"Defeating Fire-type Animons. Defeating the Dinossaur Animon.",cat:"evolution"},
 icon:"magma_crystal.png"
},
{rarity:"incomum",
 pt:{name:"Mind Thread",desc:"Um carretel de linha roxa cintilante, irradiando energia psÃ­quica.",drop:"Derrotando Animons do tipo Psychic.",cat:"evolution"},
 en:{name:"Mind Thread",desc:"A spool of shimmering purple thread, radiating with psychic energy.",drop:"Defeating Psychic-type Animons.",cat:"evolution"},
 icon:"mind_thread.png"
},
{rarity:"incomum",
 pt:{name:"Mystic Tablet",desc:"Uma antiga tÃ¡bua de bronze gravada com runas misteriosas.",drop:"Derrotando Animons do tipo Soul.",cat:"evolution"},
 en:{name:"Mystic Tablet",desc:"An ancient bronze tablet engraved with mysterious runes.",drop:"Defeating Soul-type Animons.",cat:"evolution"},
 icon:"mystic_tablet.png"
},
{rarity:"epico",
 pt:{name:"Pure Sphere",desc:"Uma esfera perfeitamente lisa e translÃºcida, irradiando uma energia suave e equilibrada.",drop:"Derrotando Animons do tipo Neutral.",cat:"evolution"},
 en:{name:"Pure Sphere",desc:"A perfectly smooth, translucent sphere, radiating a gentle, balanced energy.",drop:"Defeating Neutral-type Animons.",cat:"evolution"},
 icon:"pure_sphere.png"
},
{rarity:"epico",
 pt:{name:"Radiant Blossom",desc:"Uma antiga tÃ¡bua de bronze gravada com runas misteriosas.",drop:"Derrotando Animons do tipo Nature.",cat:"evolution"},
 en:{name:"Radiant Blossom",desc:"An ancient bronze tablet engraved with mysterious runes.",drop:"Defeating Nature-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Radiant Ring",desc:"Um anel dourado que brilha com uma luz interna quente.",drop:"Derrotando Animons do tipo Light.",cat:"evolution"},
 en:{name:"Radiant Ring",desc:"A golden ring that glows with a warm, inner light.",drop:"Defeating Light-type Animons.",cat:"evolution"},
 icon:"radiant_ring.png"
},
{rarity:"incomum",
 pt:{name:"Shadow Fang",desc:"Um osso simples e pÃ¡lido imbuÃ­do de energia sombria.",drop:"Derrotando Animons do tipo Dark.",cat:"evolution"},
 en:{name:"Shadow Fang",desc:"A simple, pale bone imbued with dark energy.",drop:"Defeating Dark-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Spark Gem",desc:"Uma joia roxa vibrante contendo uma pequena nuvem de tempestade ativa, com relÃ¢mpagos visÃ­veis em seu interior.",drop:"Derrotando Animons do tipo Lightning.",cat:"evolution"},
 en:{name:"Spark Gem",desc:"A vibrant purple gem containing a small, active storm cloud, with occasional flashes of lightning visible within.",drop:"Defeating Lightning-type Animons.",cat:"evolution"},
 icon:"spark_gem.png"
},
{rarity:"raro",
 pt:{name:"Stone Slab",desc:"Uma placa de pedra robusta e sem marcas, carregando uma energia simples, porÃ©m sÃ³lida.",drop:"Derrotando Animons do tipo Neutral.",cat:"evolution"},
 en:{name:"Stone Slab",desc:"A rugged, unremarkable slab of stone, carrying an unassuming but solid energy.",drop:"Defeating Neutral-type Animons.",cat:"evolution"},
 icon:"stone_slab.png"
},
{rarity:"incomum",
 pt:{name:"Terra Shards",desc:"Fragmentos resistentes da terra, sÃ³lidos e confiÃ¡veis.",drop:"Derrotando Animons do tipo Earth.",cat:"evolution"},
 en:{name:"Terra Shards",desc:"Rugged shards of the earth, solid and dependable.",drop:"Defeating Earth-type Animons.",cat:"evolution"},
 icon:"terra_shards.png"
},
{rarity:"epico",
 pt:{name:"Thunder Orb",desc:"Um grande orbe roxo radiante que encapsula uma tempestade elÃ©trica eternamente ativa.",drop:"Derrotando Animons do tipo Lightning.",cat:"evolution"},
 en:{name:"Thunder Orb",desc:"A large, radiant purple orb, encapsulating a vibrant ever-active electrical storm.",drop:"Defeating Lightning-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Venom Vial",desc:"Um pequeno frasco contendo um lÃ­quido verde vibrante que borbulha de forma ameaÃ§adora.",drop:"Derrotando Animons do tipo Poison.",cat:"evolution"},
 en:{name:"Venom Vial",desc:"A small vial containing a vibrant green liquid that bubbles ominiously.",drop:"Defeating Poison-type Animons.",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Verdant Sprigs",desc:"Um conjunto de folhas frescas e brilhantes.",drop:"Derrotando Animons do tipo Nature.",cat:"evolution"},
 en:{name:"Verdant Sprigs",desc:"A bundle of fresh, glowing leaves.",drop:"Defeating Nature-type Animons.",cat:"evolution"},
 icon:"verdant_sprigs.png"
},
{rarity:"incomum",
 pt:{name:"Warrior Horn",desc:"Um chifre robusto que pertenceu a uma besta feroz, transbordando espÃ­rito de luta.",drop:"Derrotando Animons do tipo Fighting.",cat:"evolution"},
 en:{name:"Warrior Horn",desc:"A sturdy horn that once belonged to a fierce beast, brimming with fighting spirit.",drop:"Defeating Fighting-type Animons.",cat:"evolution"},
 icon:"warrior_horn.png"
},
{rarity:"incomum",
 pt:{name:"Aloe",desc:"Tratamento para queimaduras! Aplique no seu Animon!",note:"Serve para retirar Queimadura/Burn do Animon.",drop:"Lojas",cat:"medical"},
 en:{name:"Aloe",desc:"Treatment for burn! Apply it on your Animon!",note:"Cures Burn status.",drop:"Shops",cat:"medical"}
},
{rarity:"comum",
 pt:{name:"C-Potion",desc:"Um item que rejuvenesce seus Animons e os deixa prontos para a batalha!",note:"Recupera 25 de HP.",drop:"Loja",cat:"medical"},
 en:{name:"C-Potion",desc:"An item that rejuvenates your Animons and gets them up and ready for battle!",note:"Restores 25 HP.",drop:"Shop",cat:"medical"}
},
{rarity:"epico",
 pt:{name:"Endless Bento",desc:"Recupera automaticamente 1/14 do HP MÃ¡x no final de cada rodada.",drop:"Dentro da Torre do Korin",cat:"battle"},
 en:{name:"Endless Bento",desc:"Automatically regain 1/14th MAX HP at the end of each round.",drop:"Inside Korin Tower",cat:"battle"},
 icon:"endless_bento.png"
},
{rarity:"incomum",
 pt:{name:"Green Bean",desc:"Um feijÃ£o verde estranho! Possui propriedades curativas e tambÃ©m cura se o HP cair para 30%!",note:"Recupera 25 de HP.",drop:"Loja da Torre do Korin",cat:"medical"},
 en:{name:"Green Bean",desc:"A weird Green Bean! Has some properties to heal your Animons! Also heals them if their HP drops to 30%!",note:"Restores 25 HP.",drop:"Korin Tower Shop",cat:"medical"}
},
{rarity:"comum",
 pt:{name:"Revive",desc:"Revive Animons desmaiados com 1% de HP.",drop:"Loja",cat:"medical"},
 en:{name:"Revive",desc:"Revives fainted Animons with 1% Health.",drop:"Shop",cat:"medical"}
},
{rarity:"incomum",
 pt:{name:"Static-Leaf",desc:"Uma folha estÃ¡tica com efeito anti-paralisia!",note:"Serve para retirar Paralisia do Animon.",drop:"Lojas",cat:"medical"},
 en:{name:"Static-Leaf",desc:"A static leaf with an anti-paralysis effect! [Can be used to cure paralysis status]",note:"Cures Paralysis status.",drop:"Shops",cat:"medical"}
},
{rarity:"raro",
 pt:{name:"Vitaloom",desc:"Rica em polpa e refrescante. Dizem que floresce quanto mais Ã© mastigada!",note:"Aumenta o HP TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Vitaloom",desc:"Pulp-rich and refreshing. Said to bloom the longer it's chewed!",note:"Increases HP TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Witherloom",desc:"Carne seca e desbotada que drena o vigor quanto mais Ã© mastigada.",note:"Diminui o HP TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Witherloom",desc:"Dry, faded flesh that saps vigor the longer it's chewed.",note:"Decreases HP TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"incomum",
 pt:{name:"Blaze Orb",desc:"Um pequeno orbe que queima com uma chama eterna, intensificando golpes do tipo Fire.",drop:"Loja in Capsule City",cat:"battle"},
 en:{name:"Blaze Orb",desc:"A small orb that burns with an eternal flame, enhancing the intensity of Fire-Type moves.",drop:"Shop in Capsule City",cat:"battle"},
 icon:"blaze_orb.png"
},
{rarity:"raro",
 pt:{name:"Crimberry",desc:"Uma fruta Ã¡cida que alimenta a agressividade. Seu gosto forte deixa marca.",note:"Aumenta o ATK TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Crimberry",desc:"A tangy fruit that fuels aggression. Its sharp taste leaves a bite.",note:"Increases ATK TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Crumblefruit",desc:"Polpa quebradiÃ§a que se desfaz ao toque, deixando vocÃª se sentindo frÃ¡gil.",note:"Diminui o DEF TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Crumblefruit",desc:"Brittle pulp that flakes at a touch, leaving you feeling fragile.",note:"Decreases DEF TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Dashfruit",desc:"CÃ­trica e leve â€” uma mordida e vocÃª jÃ¡ estÃ¡ em movimento!",note:"Aumenta o SPD TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Dashfruit",desc:"Zesty and light â€” one bite and you're already moving!",note:"Increases SPD TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"incomum",
 pt:{name:"Demon Shuriken",desc:"[Sem DescriÃ§Ã£o ainda]",drop:"Loja em Capsule City",cat:"battle"},
 en:{name:"Demon Shuriken",desc:"[No description yet]",drop:"Shop in Capsule City",cat:"battle"}
},
{rarity:"incomum",
 pt:{name:"Dinosaur Hide",desc:"Um couro grosso e resistente deixado por um dinossauro poderoso.",drop:"Derrotando o Animon Dinossaur",cat:"misc"},
 en:{name:"Dinosaur Hide",desc:"A strong thick hide dropped by a strong dinosaur.",drop:"Defeating the Dinossaur Animon",cat:"misc"}
},
{rarity:"raro",
 pt:{name:"Dragfruit",desc:"Pesada e lenta, seu peso parece te puxar para trÃ¡s a cada mordida.",note:"Diminui o SPD TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Dragfruit",desc:"Heavy and sluggish, its weight seems to pull you back with every bite.",note:"Decreases SPD TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Dullapple",desc:"Sem sabor e amarga; reduz a clareza e embota o foco em batalha.",note:"Diminui o SP ATK TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Dullapple",desc:"Flat and bitter; it mutes clarity and blunts focus in battle.",note:"Decreases SP ATK TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Fisher's Pass",desc:"Um passe concedido a qualquer um digno de segurar uma vara de pesca! Permite comprar itens em qualquer loja de pesca.",drop:"Quest em Great Plains",cat:"key"},
 en:{name:"Fisher's Pass",desc:"A pass given to anyone worthy enough to hold up a fishing rod! Allows you to purchase items from any fishing shop.",drop:"Quest in Great Plains",cat:"key"}
},
{rarity:"comum",
 pt:{name:"Fishing Reel",desc:"Um molinete usado para pesca! Um molinete por uso!",drop:"Loja de Pesca",cat:"misc"},
 en:{name:"Fishing Reel",desc:"A reel used for fishing! One reel per use!",drop:"Fishing Shop",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"GX-Attack",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente o ataque dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Attack",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons attack.",drop:"Shops",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"GX-Defense",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente a defesa dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Defense",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons defense.",drop:"Shops",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"GX-Special Atk",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente o ataque especial dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Special Atk",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons special atk.",drop:"Shops",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"GX-Special Def",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente a defesa especial dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Special Def",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons special def.",drop:"Shops",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"GX-Speed",desc:"Um acelerador metabÃ³lico de assimilaÃ§Ã£o rÃ¡pida da Gamyng Corp, criado para aumentar drasticamente a velocidade dos Animons.",drop:"Lojas",cat:"misc"},
 en:{name:"GX-Speed",desc:"A rapid-assimilation metabolic accelerator from Gamyng Corp, crafted to drastically increase Animons speed.",drop:"Shops",cat:"misc"}
},
{rarity:"raro",
 pt:{name:"Gilded Sidearm",desc:"Aumenta o Dano de Arma em 1.2x",drop:"BaÃº no labirinto do PalÃ¡cio",cat:"battle"},
 en:{name:"Gilded Sidearm",desc:"Increases Gun Damage by 1.2x",drop:"Chest in the Palace labyrinth",cat:"battle"},
 icon:"gilded_sidearm.png"
},
{rarity:"raro",
 pt:{name:"Grimberry",desc:"Uma fruta azeda e cruel que arde ao descer, temperando a agressividade bruta.",note:"Diminui o ATK TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Grimberry",desc:"A tart, mean little berry that stings on the way down, tempering raw aggression.",note:"Decreases ATK TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Hushmelon",desc:"Macia e silenciosa, suaviza os sentidos e reduz sua guarda.",note:"Diminui o SP DEF TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Hushmelon",desc:"Cushioned and quiet, it softens the senses and dulls your guard.",note:"Decreases SP DEF TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Imperfect Materials",desc:"Fornecidos por guerreiros poderosos, usados para criar Animons ainda mais fortes.",drop:"Derrotando Warrior Bug Jr e Green Alien",cat:"misc"},
 en:{name:"Imperfect Materials",desc:"Provided by strong warriors, used to create even stronger Animons.",drop:"Defeating Warrior Bug Jr and Green Alien",cat:"misc"}
},
{rarity:"raro",
 pt:{name:"Mindapple",desc:"Uma fruta amarga que dizem despertar inspiraÃ§Ã£o em batalha!",note:"Aumenta o SP ATK TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Mindapple",desc:"A bitter fruit said to spark inspiration in battle!",note:"Increases SP ATK TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Rocky Helmet",desc:"Reflete de volta ao atacante um dano equivalente a 1/12 do dano causado.",drop:"???",cat:"battle"},
 en:{name:"Rocky Helmet",desc:"Reflects back damage done by the attacker equal to 1/12th of damage dealt.",drop:"???",cat:"battle"},
 icon:"rocky_helmet.png"
},
{rarity:"incomum",
 pt:{name:"S-Potion",desc:"Uma versÃ£o aprimorada da C-Potion.",drop:"Lojas",cat:"medical"},
 en:{name:"S-Potion",desc:"An upgraded version of the C-Potion.",drop:"Shops",cat:"medical"}
},
{rarity:"raro",
 pt:{name:"Seismic Buckler",desc:"Reduz o dano do tipo Earth em 1.2x",drop:"BaÃº no PalÃ¡cio",cat:"battle"},
 en:{name:"Seismic Buckler",desc:"Reduces Earth damage by 1.2x",drop:"Chest in the Palace",cat:"battle"},
 icon:"seismic_buckler.png"
},
{rarity:"comum",
 pt:{name:"Smoke Bomb",desc:"Este item possui a habilidade de te teleportar para a sua Ãºltima visita a uma anistation!",drop:"Lojas",cat:"misc"},
 en:{name:"Smoke Bomb",desc:"This item has the ability to teleport you to your last anistation visit!",drop:"Shops",cat:"misc"},
 icon:"smoke_bomb.png"
},
{rarity:"raro",
 pt:{name:"Stonefruit",desc:"Pesada e densa. ComÃª-la faz vocÃª se sentir como uma parede.",note:"Aumenta o DEF TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Stonefruit",desc:"Heavy and dense. Eating it makes you feel like a wall.",note:"Increases DEF TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"raro",
 pt:{name:"Strong Axe",desc:"Ataques aumentam o dano em 1.2x",drop:"Derrotando o Animon Axe Man.",cat:"battle"},
 en:{name:"Strong Axe",desc:"Attacks increase damage by 1.2x",drop:"Defeating the Axe Man Animon.",cat:"battle"},
 icon:"strong_axe.png"
},
{rarity:"raro",
 pt:{name:"Warrior Essence",desc:"Fornecida por guerreiros poderosos, usada para criar Animons ainda mais fortes.",drop:"Derrote Warrior Bug Jr ou Derrote Animons do Saiyan Event",cat:"misc"},
 en:{name:"Warrior Essence",desc:"Provided by strong warriors, used to create even stronger Animons.",drop:"Defeat Warrior Bug Jr or defeat Animons from the Saiyan Event",cat:"misc"}
},
{rarity:"raro",
 pt:{name:"Weighted Clothes",desc:"Dobra a quantidade de TVs ganhas apÃ³s derrotar um oponente.",drop:"Fighter Crate",cat:"battle"},
 en:{name:"Weighted Clothes",desc:"Doubles the amount of TVs gained after defeating an opponent.",drop:"Fighter Crate",cat:"battle"},
 icon:"weighted_clothes.png"
},
{rarity:"raro",
 pt:{name:"Wispmelon",desc:"Suave e reconfortante, este melÃ£o acalma e protege a alma!",note:"Aumenta o SP DEF TV em 10",drop:"Loja de Fase",cat:"status"},
 en:{name:"Wispmelon",desc:"Soothing and soft, this melon calms and shields the soul!",note:"Increase the SP DEF TV by 10",drop:"Phase Shop",cat:"status"}
},
{rarity:"incomum",
 pt:{name:"Wolf Fang",desc:"Uma presa elegante e extremamente afiada de um lobo formidÃ¡vel, um claro testemunho da natureza selvagem indomÃ¡vel.",drop:"Derrotando Battle Wolf ou Teen Battle Wolf",cat:"misc"},
 en:{name:"Wolf Fang",desc:"A sleek, razor-sharp fang from a formidable wolf, a stark testament to the untamed wild.",drop:"Defeating Battle Wolf or Teen Battle Wolf",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"Cloth Rags",desc:"Alguns trapos usados por bandidos... parecem bem inÃºteis para mim.",drop:"Derrotando o Animon Bandit",cat:"misc"},
 en:{name:"Cloth Rags",desc:"Some rags worn by bandits... looks pretty useless to me.",drop:"Defeating the Bandit Animon",cat:"misc"}
},
{rarity:"incomum",
 pt:{name:"Scarf",desc:"[Sem DescriÃ§Ã£o]",drop:"Derrotando o Animon Wolfman",cat:"misc"},
 en:{name:"Scarf",desc:"[No Description]",drop:"Defeating the Wolfman Animon",cat:"misc"}
},
{rarity:"comum",
 pt:{name:"Shell Casings",desc:"Parece ser algum tipo de muniÃ§Ã£o usada pelos Marines! TambÃ©m bem inÃºtil.",drop:"Lojas",cat:"misc"},
 en:{name:"Shell Casings",desc:"Seems to be some sort of ammo used by the Marines! Also pretty useless.",drop:"Shops",cat:"misc"}
},
{rarity:"incomum",
 pt:{name:"Wolf-Fang",desc:"Chance de drop ao derrotar Battle Wolf.",drop:"Derrotando Battle Wolf",cat:"misc"},
 en:{name:"Wolf-Fang",desc:"Chance to drop from Battle Wolf.",drop:"Defeating Battle Wolf",cat:"misc"}
},
{rarity:"raro",
 pt:{name:"Fighter Sash",desc:"Fighter Sash! Conhecida por aumentar o dano de habilidades do atributo ki.",drop:"Fighter Crate",cat:"battle"},
 en:{name:"Fighter Sash",desc:"Fighter Sash! Known to increase damage of ki-attribute abilities.",drop:"Fighter Crate",cat:"battle"},
 icon:"fighter_sash.png"
},
{rarity:"epico",
 pt:{name:"Beast Talisman",desc:"Um talismÃ£ gravado em carmesim que, ao ser usado no Animon escolhido com Fox Spirit, desperta sua forma Beast e libera poder adormecido.",drop:"Bandit Crate",cat:"battle"},
 en:{name:"Beast Talisman",desc:"A crimson-etched talisman that, when used on its chosen Animon with Fox Spirit, awakens their Beast form and unleashes dormant power.",drop:"Bandit Crate",cat:"battle"},
 icon:"beast_talisman.png"
},
{rarity:"epico",
 pt:{name:"Tempest Quills",desc:"Duas penas escuras e resistentes, amarradas juntas, impregnadas com a forÃ§a de uma tempestade furiosa.",drop:"Derrotando Animons do tipo Wind.",cat:"evolution"},
 en:{name:"Tempest Quills",desc:"Two dark, sturdy feathers tied together, infused with the might of a raging storm.",drop:"Defeating Wind-type Animons.",cat:"evolution"}
},
{rarity:"epico",
 pt:{name:"Demonic Blade",desc:"A LÃ¢mina DemonÃ­aca, envolta em mistÃ©rio e trevas, Ã© uma arma que prospera no calor da batalha!",note:"Derrote Animons para aumentar o dano das habilidades de espadachim! [1.2x-1.8x]",drop:"Fishing Crate",cat:"battle"},
 en:{name:"Demonic Blade",desc:"The Demonic Blade, shrouded in mystery and darkness, is a weapon that thrives on the heat of battle! ",note:"Defeat Animons to increase the damage of your swordsman skills! [1.2x-1.8x]",drop:"Fishing Crate",cat:"battle"},
 icon:"demonic_blade.png"
},
{rarity:"epico",
 pt:{name:"Mysterious Egg",desc:"Um ovo misterioso e enigmÃ¡tico...",drop:"Quest em Great Plains",cat:"key"},
 en:{name:"Mysterious Egg",desc:"A mysterious and omincus egg...",drop:"Quest in Great Plains",cat:"key"},
 icon:"mysterious_egg.png"
},
{rarity:"incomum",
 pt:{name:"Antidote",desc:"Tratamento para veneno! Aplique no seu Animon!",drop:"Lojas",cat:"medical"},
 en:{name:"Antidote",desc:"Treatment for poison! Apply it on your Animon!",drop:"Shops",cat:"medical"}
},
{rarity:"comum",
 pt:{name:"Missing Shipments",desc:"Restos desaparecidos! Por algum motivo, os alienÃ­genas selvagens sÃ£o atraÃ­dos por isso.",drop:"Derrotando o Animon Alien.",cat:"misc"},
 en:{name:"Missing Shipments",desc:"Missing scraps! For some reason the wild aliens are attracted to this.",drop:"Defeating the Animon Alien.",cat:"misc"}
},
{rarity:"incomum",
 pt:{name:"Shadow Bone",desc:"[Sem DescriÃ§Ã£o ainda]",drop:"???",cat:"evolution"},
 en:{name:"Shadow Bone",desc:"[No description yet]",drop:"???",cat:"evolution"}
},
{rarity:"incomum",
 pt:{name:"Storm Battery",desc:"Uma bateria que absorve eletricidade estÃ¡tica do ar, aumentando o poder dos golpes do tipo ElÃ©trico!",drop:"Loja em Capsule City",cat:"battle"},
 en:{name:"Storm Battery",desc:"A battery that absorbs static electricity from the air, boosting the power of Electric-type moves!",drop:"Shop in Capsule City",cat:"battle"}
},
{rarity:"epico",
 pt:{name:"Abyssal Eye",desc:"Um olho grande e ameaÃ§ador, com um olhar penetrante, pulsando com energia malÃ©vola.",drop:"Derrotando Animons do tipo Demon.",cat:"evolution"},
 en:{name:"Abyssal Eye",desc:"A large, ominous eye with a piercing gaze, pulsing with malevolent energy.",drop:"Defeating Demon-type Animons.",cat:"evolution"},
 icon:"abyssal_eye.png"
},
{rarity:"raro",
 pt:{name:"Merciful Blow Scroll",desc:"Uma tÃ©cnica misericordiosa, que sÃ³ pode ser aprendida por espadachins especÃ­ficos.",note:"Aprende o ataque Merciful Blow, que ao atacar, impede o alvo de ser derrotado. O alvo fica com pelo menos 1 de HP.",drop:"15k na Loja em Capsule City ou Highstar Base Crate.",cat:"scroll"},
 en:{name:"Merciful Blow Scroll",desc:"A merciful technique, can only be learned by specific swordsman.",note:"Learn the Merciful Blow attack, which, when used, prevents the target from being defeated. The target is left with at least 1 HP.",drop:"15k in Shop in Capsule City or Highstar Base Crate.",cat:"scroll"},
 icon:"merciful_blow_scroll.png"
},
{rarity:"raro",
 pt:{name:"Storm Crystal",desc:"Um cristal roxo mais escuro com uma tempestade mais intensa em seu interior, crepitando com poderosos raios.",drop:"Derrotando Animons do tipo Lighting.",cat:"evolution"},
 en:{name:"Storm Crystal",desc:"A deeper purple crystal with a more intense storm raging within, crackling with powerful bolts of lightning.",drop:"Defeating Lightning-type Animon.",cat:"evolution"},
 icon:"storm_crystal.png"
}
];

function render(){
 const s=searchInput.value.toLowerCase();
 const c = selectedCategory;
 const r = selectedRarity;
 itemList.innerHTML="";
 items.slice().sort((a, b) => {
  const rDiff = rarityOrder[a.rarity] - rarityOrder[b.rarity];
  if (rDiff !== 0) return rDiff;

  return a[lang].name.localeCompare(b[lang].name);
})
 .forEach(i=>{
  const d=i[lang];
  if(s && !d.name.toLowerCase().includes(s))return;
  if(c && i.pt.cat !== c) return;
  if(r && i.rarity!==r)return;
  const div=document.createElement("div");
  div.className=`item ${i.rarity}`;
  const iconSrc = i.icon ? `assets/${i.icon}` : "assets/sem_icone.png";

div.innerHTML = `
  <img src="${iconSrc}" alt="${d.name}">
  <strong>${d.name}</strong>
`;
  div.onclick=()=>openModal(i);
  itemList.appendChild(div);
 });
}

function openModal(i){
  const d = i[lang];

  modal.className = `modal ${i.rarity}`;
  mName.textContent = d.name;
  mDesc.textContent = d.desc;
  mDrop.textContent = d.drop;
  mCat.textContent = categoryLabels[lang][i.pt.cat];

  // NOTE
  if(d.note){
    mNote.textContent = d.note;
    noteSection.style.display = "block";
  }else{
    mNote.textContent = "";
    noteSection.style.display = "none";
  }

  modalBg.style.display = "flex";
}
function closeModal(){modalBg.style.display="none"}

function updateLang(){
  title.textContent = uiText[lang].title;
  searchInput.placeholder = uiText[lang].search;
  closeBtn.textContent = uiText[lang].close;
  lblDesc.textContent = uiText[lang].desc;
  lblNote.textContent = uiText[lang].note;
  lblDrop.textContent = uiText[lang].drop;
  lblCat.textContent = uiText[lang].cat;
  langBtn.textContent = uiText[lang].btn;

  buildCategoryMenu();
  buildRarityMenu();
  render();
}

langBtn.onclick = () => {
  const scrollPos = window.scrollY;
  const searchValue = searchInput.value;
  const cat = selectedCategory;
  const rar = selectedRarity;

  lang = lang === "pt" ? "en" : "pt";
  localStorage.setItem("siteLang", lang);

  updateLang();

  searchInput.value = searchValue;
  selectedCategory = cat;
  selectedRarity = rar;

  categoryBtn.textContent = cat ? categoryLabels[lang][cat] : uiText[lang].allCat;
rarityBtn.textContent = rar ? rarityLabels[lang][rar] : uiText[lang].allRare;
  rarityBtn.className = "select-btn" + (rar ? " r-" + rar : "");

  render();
  window.scrollTo(0, scrollPos);
};

let selectedCategory = "";
let selectedRarity = "";

function buildCategoryMenu(){
  categoryList.innerHTML = `<li onclick="selectCategory('')">${uiText[lang].allCat}</li>`;

  categoryKeys.forEach(key=>{
    categoryList.innerHTML += `
      <li onclick="selectCategory('${key}')">
        ${categoryLabels[lang][key]}
      </li>
    `;
  });
}

function buildRarityMenu(){
  rarityList.innerHTML = `<li onclick="selectRarity('')">${uiText[lang].allRare}</li>`;
  Object.keys(rarityOrder).forEach(r=>{
    rarityList.innerHTML += `
      <li class="r-${r}" onclick="selectRarity('${r}')">
  ${rarityLabels[lang][r]}
</li>
    `;
  });
}

function selectCategory(value){
  selectedCategory = value;
  categoryBtn.textContent = value ? categoryLabels[lang][value] : uiText[lang].allCat;
  categoryList.style.display = "none";
  render();
}

function selectRarity(value){
  selectedRarity = value;
  rarityBtn.textContent = value ? rarityLabels[lang][value] : uiText[lang].allRare;
  rarityBtn.className = "select-btn";
if(value) rarityBtn.classList.add("r-" + value);
  rarityList.style.display = "none";
  render();
}

categoryBtn.onclick = () => {
  categoryList.style.display =
    categoryList.style.display === "block" ? "none" : "block";
};

rarityBtn.onclick = () => {
  rarityList.style.display =
    rarityList.style.display === "block" ? "none" : "block";
};

document.addEventListener("click", e=>{
  if(!categorySelect.contains(e.target)) categoryList.style.display="none";
  if(!raritySelect.contains(e.target)) rarityList.style.display="none";
});

updateLang();

searchInput.addEventListener("input", () => {
  render();
});

</script>

</body>
</html>
